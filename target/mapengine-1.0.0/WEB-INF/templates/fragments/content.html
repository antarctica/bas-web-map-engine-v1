<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
    <head>
        <title></title>
    </head>
    <body th:fragment="layout">
        <div id="wrapper">

            <!-- Navigation -->
            <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a id="appurl" href="Javascript:void(0)" target="_blank"><img id="applogo" class="applogo" src="/static/images/1x1.png" width="50" height="50" /></a>
                    <a class="navbar-brand" id="apptitle" href="Javascript:void(0)"></a>
                </div>
                <!-- Top Menu Items -->
                <ul class="nav navbar-left top-nav">
                    <li>
                        <a id="geosearch-tool" href="JavaScript:void(0)" role="button" data-toggle="popover" data-placement="bottom">
                            <span class="glyphicon glyphicon-pushpin"></span><span class="hidden-xs"> Geosearch</span>
                        </a>                        
                    </li>
                    <li>
                        <a id="measure-tool" href="JavaScript:void(0)" role="button" data-toggle="popover" data-placement="bottom">
                            <span class="icon-ruler"></span><span class="hidden-xs"> Measure</span>
                        </a>       
                    </li>
                    <li>
                        <a id="overview-map-tool" href="JavaScript:void(0)" role="button" data-toggle="popover" data-placement="bottom">
                            <span class="glyphicon glyphicon-picture"></span><span class="hidden-xs"> Overview</span>
                        </a>       
                    </li>
                    <li>
                        <a id="repo-tool" href="JavaScript:void(0)" role="button" data-toggle="popover" data-placement="bottom">
                            <span class="fa fa-database"></span><span class="hidden-xs"> Data repository</span> 
                        </a>       
                    </li>
                </ul>                                
                <ul class="nav navbar-right top-nav hidden" th:switch="${#httpServletRequest.remoteUser}">
                    <li id="user-menu" class="dropdown" th:case="null">
                        <!-- Guest menu -->
                        <a href="Javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-user"></i><span th:inline="text"> Not logged in</span><b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu" style="width:300px">
                            <li>
                                <a id="map-switcher" href="Javascript:void(0)"><i class="fa fa-map"></i> Switch map view</a>
                                <div class="hidden"></div>
                            </li>                           
                            <li>
                                <a id="log-in-user" href="/login"><i class="fa fa-user"></i> Log In</a>
                            </li>                            
                        </ul>
                    </li>
                    <li id="user-menu" class="dropdown" th:case="*">
                        <!-- Logged in menu -->
                        <a href="Javascript:void(0)" class="dropdown-toggle" data-toggle="dropdown">
                            <i class="fa fa-user"></i><span th:inline="text"> Logged in as [[${#httpServletRequest.remoteUser}]]</span><b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu" style="width:300px">
                            <li>
                                <a id="map-switcher" href="Javascript:void(0)"><i class="fa fa-map"></i> Switch map view</a>
                                <div class="hidden"></div>
                            </li>
                            <li>
                                <a id="unit-prefs" href="Javascript:void(0)"><i class="fa fa-wrench"></i> Unit preferences</a>
                                <div class="hidden"></div>
                            </li>                            
                            <li>
                                <a id="log-out-user" href="Javascript:void(0)"><i class="fa fa-power-off"></i> Log Out</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- Sidebar Menu Items - These collapse to the responsive navigation menu on small screens -->
                <div class="collapse navbar-collapse navbar-ex1-collapse">
                    <div id="layer-tree" class="nav navbar-nav side-nav">

                    </div>
                </div>
                <!-- /.navbar-collapse -->
            </nav>

            <div id="map-container">            
                <div id="map"></div>
            </div>

        </div>
        <!-- /#wrapper -->

        <button class="layer-tree-expand btn btn-default hidden-xs" data-toggle="tooltip" data-placement="right" title="Expand layer tree">
            <span class="icon-layers"></span>
        </button>
        
        <button class="inset-map-expand btn btn-default hidden" data-toggle="popover" data-placement="left" data-html="true" title="Inset map">
            <span class="fa fa-map"></span>
        </button>
       
        <div id="height-popup" title="Elevation"></div>
        
        <form id="logout-form" method="POST" th:action="@{/logout}">
        </form>
    </body>
</html>
