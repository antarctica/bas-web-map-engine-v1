# {{ ansible_managed }}
#!/bin/sh
#
# This file will be automatically loaded by catalina.sh if present and is designed to set Java related environment
# variables such as $CATALINA_OPTS and $JAVA_OPTS.
#
HEAP="-Xms2048m -Xmx2048m"
NEW="-XX:NewSize=256m -XX:MaxNewSize=256m"
RMIGC="-Dsun.rmi.dgc.client.gcInterval=600000 -Dsun.rmi.dgc.server.gcInterval=600000 -Dorg.geoserver.wms.featureinfo.minBuffer=20"
PGC="-XX:+UseParallelGC"
PERM="-XX:PermSize=256m -XX:MaxPermSize=1024m"
#DEBUG="-XX:+HeapDumpOnOutOfMemoryError"
SERVER="-server"
export JAVA_OPTS="-Djava.awt.headless=true $HEAP $NEW $RMIGC $PGC $PERM $SERVER"
PGCLIENTENCODING=UNICODE
# For Geoserver gdal plugin
WEBMAPHOME={{ app_unprivileged_home }}
export GDAL_DATA=$WEBMAPHOME/lib/gdal-data
export LD_LIBRARY_PATH=$WEBMAPHOME/lib
# http://osgeo-org.1560.x6.nabble.com/ECW-support-on-Fedora-Linux-error-td4991388.html
export NCS_USER_PREFS=$WEBMAPHOME/bogus.txt
